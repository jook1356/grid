<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multi-Row ë ˆì´ì•„ì›ƒ - PureSheet Demo</title>
  <link rel="stylesheet" href="../shared/styles.css">
  <link rel="stylesheet" href="../../src/ui/style/default.css">
  <style>
    /* Multi-Row ë¯¸ë¦¬ë³´ê¸°ìš© ìŠ¤íƒ€ì¼ */
    .preview-grid {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      overflow: hidden;
      font-size: 14px;
    }
    
    .preview-header-row {
      display: grid;
      grid-template-columns: 60px 1fr 1fr 1fr 100px;
      background: #f5f5f5;
      border-bottom: 2px solid #e0e0e0;
    }
    
    .preview-header-cell {
      padding: 10px 12px;
      font-weight: 600;
      border-right: 1px solid #e0e0e0;
    }
    
    .preview-header-cell:last-child {
      border-right: none;
    }
    
    /* Multi-Row ë°ì´í„° í–‰ */
    .preview-data-row {
      display: grid;
      grid-template-columns: 60px 1fr;
      border-bottom: 1px solid #e0e0e0;
    }
    
    .preview-data-row:last-child {
      border-bottom: none;
    }
    
    .preview-data-row:hover {
      background: #f8f9fa;
    }
    
    /* ID ì…€: 2ì¤„ì— ê±¸ì¹¨ */
    .preview-id-cell {
      grid-row: span 2;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      border-right: 1px solid #e0e0e0;
      background: #fafafa;
      font-weight: 600;
    }
    
    /* ë‚´ë¶€ í–‰ë“¤ */
    .preview-inner-rows {
      display: flex;
      flex-direction: column;
    }
    
    .preview-inner-row {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 100px;
    }
    
    .preview-inner-row:first-child {
      border-bottom: 1px dashed #e8e8e8;
    }
    
    .preview-cell {
      padding: 8px 12px;
      border-right: 1px solid #e0e0e0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .preview-cell:last-child {
      border-right: none;
    }
    
    .preview-cell.email {
      grid-column: span 2;
      color: #1976d2;
    }
    
    /* í–‰ ì¸ë±ìŠ¤ í‘œì‹œ */
    .row-indicator {
      font-size: 11px;
      color: #999;
      margin-left: 4px;
    }
    
    /* ë ˆì´ì•„ì›ƒ ì„¤ëª… ë‹¤ì´ì–´ê·¸ë¨ */
    .layout-diagram {
      display: flex;
      gap: 40px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .diagram-item {
      flex: 1;
      min-width: 300px;
    }
    
    .diagram-item h4 {
      margin-bottom: 12px;
      font-size: 14px;
      color: #666;
    }
    
    .diagram-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }
    
    .diagram-table td, .diagram-table th {
      border: 1px solid #ccc;
      padding: 8px 12px;
      text-align: center;
    }
    
    .diagram-table th {
      background: #f0f0f0;
      font-weight: 500;
    }
    
    .diagram-table .span-cell {
      background: #e3f2fd;
    }
  </style>
</head>
<body>
  <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
  <nav class="demo-nav">
    <a href="../index.html">ğŸ  í™ˆ</a>
    <a href="column-pinning.html">ğŸ“Œ ì»¬ëŸ¼ ê³ ì •</a>
    <a href="multi-row.html" class="active">ğŸ“‘ Multi-Row</a>
    <a href="grouping.html">ğŸ“‚ í–‰ ê·¸ë£¹í™”</a>
  </nav>
  
  <!-- í—¤ë” -->
  <div class="demo-header">
    <h1>ğŸ“‘ Multi-Row ë ˆì´ì•„ì›ƒ</h1>
    <span class="badge badge-planned">2ì°¨ êµ¬í˜„ ì˜ˆì •</span>
  </div>
  
  <!-- ì„¤ëª… -->
  <div class="demo-description">
    <p>
      <strong>Multi-Row ë ˆì´ì•„ì›ƒ</strong>ì€ í•˜ë‚˜ì˜ ë°ì´í„° í–‰ì„ ì—¬ëŸ¬ ì¤„ë¡œ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.
      ë³µì¡í•œ ì •ë³´ë¥¼ ê°€ë…ì„± ìˆê²Œ í‘œí˜„í•˜ê±°ë‚˜, ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ ì¢ì€ í™”ë©´ì„ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
      <code>rowTemplate</code>ì—ì„œ <code>colSpan</code>ê³¼ <code>rowSpan</code>ì„ ì§€ì •í•˜ì—¬ ì…€ ë³‘í•©ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    </p>
  </div>
  
  <div class="demo-container">
    <div class="toolbar">
      <div class="toolbar-group">
        <button onclick="showLayout1()">ë ˆì´ì•„ì›ƒ 1 (2ì¤„)</button>
        <button onclick="showLayout2()">ë ˆì´ì•„ì›ƒ 2 (3ì¤„)</button>
        <button onclick="showLayout3()" class="secondary">ë‹¨ì¼ í–‰ (ê¸°ë³¸)</button>
      </div>
    </div>
    
    <!-- ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ -->
    <div id="grid" style="height: 500px; overflow: auto; padding: 0;">
      <div class="preview-grid" id="previewGrid">
        <!-- JavaScriptë¡œ ë Œë”ë§ -->
      </div>
    </div>
    
    <div class="status-bar" id="status">
      ë¯¸ë¦¬ë³´ê¸° - ì‹¤ì œ êµ¬í˜„ì€ 2ì°¨ ê°œë°œì— í¬í•¨ë©ë‹ˆë‹¤
    </div>
  </div>
  
  <!-- ë ˆì´ì•„ì›ƒ ë‹¤ì´ì–´ê·¸ë¨ -->
  <div class="info-panel">
    <h3>ğŸ“ ë ˆì´ì•„ì›ƒ êµ¬ì¡°</h3>
    <div class="layout-diagram">
      <div class="diagram-item">
        <h4>ë ˆì´ì•„ì›ƒ 1: 2ì¤„ ë ˆì´ì•„ì›ƒ</h4>
        <table class="diagram-table">
          <tr>
            <th rowspan="2" class="span-cell">ID<br><small>(rowSpan: 2)</small></th>
            <th>Name</th>
            <th colspan="2" class="span-cell">Email (colSpan: 2)</th>
            <th rowspan="2" class="span-cell">Salary<br><small>(rowSpan: 2)</small></th>
          </tr>
          <tr>
            <th>Dept</th>
            <th>Status</th>
            <th>Join Date</th>
          </tr>
        </table>
      </div>
      
      <div class="diagram-item">
        <h4>ë ˆì´ì•„ì›ƒ 2: 3ì¤„ ë ˆì´ì•„ì›ƒ</h4>
        <table class="diagram-table">
          <tr>
            <th rowspan="3" class="span-cell">ID</th>
            <th colspan="3" class="span-cell">Name + Email (colSpan: 3)</th>
          </tr>
          <tr>
            <th>Department</th>
            <th>Status</th>
            <th>Salary</th>
          </tr>
          <tr>
            <th colspan="3" class="span-cell">Join Date + ì¶”ê°€ ì •ë³´</th>
          </tr>
        </table>
      </div>
    </div>
  </div>
  
  <!-- ì½”ë“œ ì˜ˆì œ -->
  <div class="code-example">
    <h3>API ì‚¬ìš©ë²•</h3>
    <pre><span class="keyword">const</span> sheet = <span class="keyword">new</span> <span class="function">PureSheet</span>(container, {
  columns: [
    { key: <span class="string">'id'</span>, header: <span class="string">'ID'</span> },
    { key: <span class="string">'name'</span>, header: <span class="string">'Name'</span> },
    { key: <span class="string">'email'</span>, header: <span class="string">'Email'</span> },
    { key: <span class="string">'dept'</span>, header: <span class="string">'Dept'</span> },
    { key: <span class="string">'status'</span>, header: <span class="string">'Status'</span> },
    { key: <span class="string">'salary'</span>, header: <span class="string">'Salary'</span> },
  ],
  
  <span class="comment">// Multi-Row í…œí”Œë¦¿ ì •ì˜</span>
  rowTemplate: {
    rowCount: <span class="number">2</span>,  <span class="comment">// ë°ì´í„° 1ê°œ = ì‹œê°ì  2ì¤„</span>
    layout: [
      <span class="comment">// ì²« ë²ˆì§¸ ì¤„</span>
      [
        { key: <span class="string">'id'</span>, rowSpan: <span class="number">2</span> },      <span class="comment">// 2ì¤„ì— ê±¸ì¹¨</span>
        { key: <span class="string">'name'</span> },
        { key: <span class="string">'email'</span>, colSpan: <span class="number">2</span> },   <span class="comment">// 2ì¹¸ ì°¨ì§€</span>
        { key: <span class="string">'salary'</span>, rowSpan: <span class="number">2</span> },
      ],
      <span class="comment">// ë‘ ë²ˆì§¸ ì¤„</span>
      [
        { key: <span class="string">'dept'</span> },
        { key: <span class="string">'status'</span> },
      ],
    ],
  },
  data,
});</pre>
  </div>
  
  <!-- ì¶”ê°€ ì„¤ëª… -->
  <div class="info-panel">
    <h3>ğŸ” ì‚¬ìš© ì‚¬ë¡€</h3>
    <pre>1. ëª¨ë°”ì¼ ë°˜ì‘í˜•
   - ì¢ì€ í™”ë©´ì—ì„œ ë§ì€ ì •ë³´ë¥¼ ê°€ë…ì„± ìˆê²Œ í‘œì‹œ
   - ê°€ë¡œ ìŠ¤í¬ë¡¤ ìµœì†Œí™”

2. ìƒì„¸ ì •ë³´ í‘œì‹œ
   - ì—°ë½ì²˜ ëª©ë¡: ì´ë¦„ + ì´ë©”ì¼ / ì „í™”ë²ˆí˜¸ + ì£¼ì†Œ
   - ìƒí’ˆ ëª©ë¡: ìƒí’ˆëª… + ê°€ê²© / ì„¤ëª… + ì¬ê³ 

3. ì¹´ë“œ ìŠ¤íƒ€ì¼ ê·¸ë¦¬ë“œ
   - ì „í†µì ì¸ í…Œì´ë¸”ë³´ë‹¤ ì‹œê°ì ìœ¼ë¡œ í’ë¶€í•œ ë ˆì´ì•„ì›ƒ
   - ê° ë ˆì½”ë“œê°€ ëª…í™•íˆ êµ¬ë¶„ë¨

4. ì¸ì‡„/ë¦¬í¬íŠ¸
   - ì œí•œëœ ìš©ì§€ í­ì— ë” ë§ì€ ì •ë³´ í‘œì‹œ</pre>
  </div>
  
  <script>
    // 100ê°œ ìƒ˜í”Œ ë°ì´í„° ìƒì„±
    const names = ['ê¹€ì² ìˆ˜', 'ì´ì˜í¬', 'ë°•ë¯¼ìˆ˜', 'ì •ìˆ˜ì§„', 'ìµœë™í˜„', 'í•œì§€ë¯¼', 'ê°•í˜¸ë™', 'ìœ ì¬ì„', 'ì‹ ë™ì—½', 'ì†¡í˜œêµ'];
    const depts = ['Engineering', 'Marketing', 'Sales', 'HR', 'Finance'];
    const statuses = ['Active', 'Inactive', 'Pending'];
    
    const sampleData = Array.from({ length: 100 }, (_, i) => ({
      id: i + 1,
      name: names[i % names.length] + (Math.floor(i / 10) || ''),
      email: `user${i + 1}@example.com`,
      dept: depts[i % depts.length],
      status: statuses[i % statuses.length],
      salary: 50000 + Math.floor(Math.random() * 50000),
      joinDate: `202${Math.floor(i % 5)}-${String((i % 12) + 1).padStart(2, '0')}-${String((i % 28) + 1).padStart(2, '0')}`
    }));
    
    function updateStatus(message) {
      document.getElementById('status').textContent = message;
    }
    
    // ë ˆì´ì•„ì›ƒ 1: 2ì¤„ ë ˆì´ì•„ì›ƒ
    window.showLayout1 = function() {
      const grid = document.getElementById('previewGrid');
      
      let html = `
        <div class="preview-header-row">
          <div class="preview-header-cell" style="grid-row: span 2;">ID</div>
          <div class="preview-header-cell">Name</div>
          <div class="preview-header-cell" style="grid-column: span 2;">Email</div>
          <div class="preview-header-cell" style="grid-row: span 2;">Salary</div>
        </div>
      `;
      
      sampleData.forEach((row) => {
        html += `
          <div class="preview-data-row">
            <div class="preview-id-cell">${row.id}</div>
            <div class="preview-inner-rows">
              <div class="preview-inner-row">
                <div class="preview-cell">${row.name}</div>
                <div class="preview-cell email" style="grid-column: span 2;">${row.email}</div>
                <div class="preview-cell" style="grid-row: span 2; display: flex; align-items: center;">$${row.salary.toLocaleString()}</div>
              </div>
              <div class="preview-inner-row">
                <div class="preview-cell">${row.dept}</div>
                <div class="preview-cell">${row.status}</div>
                <div class="preview-cell">${row.joinDate}</div>
              </div>
            </div>
          </div>
        `;
      });
      
      grid.innerHTML = html;
      updateStatus('ë ˆì´ì•„ì›ƒ 1: 2ì¤„ ë ˆì´ì•„ì›ƒ (IDì™€ Salaryê°€ rowSpan=2, Emailì´ colSpan=2)');
    };
    
    // ë ˆì´ì•„ì›ƒ 2: 3ì¤„ ë ˆì´ì•„ì›ƒ
    window.showLayout2 = function() {
      const grid = document.getElementById('previewGrid');
      
      let html = '';
      
      sampleData.forEach((row) => {
        html += `
          <div style="display: grid; grid-template-columns: 50px 1fr; border-bottom: 2px solid #e0e0e0;">
            <div style="grid-row: span 3; display: flex; align-items: center; justify-content: center; background: #f5f5f5; border-right: 1px solid #e0e0e0; font-weight: 600; font-size: 18px;">
              ${row.id}
            </div>
            <div style="padding: 10px 12px; border-bottom: 1px dashed #e8e8e8;">
              <strong>${row.name}</strong> &lt;${row.email}&gt;
            </div>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); border-bottom: 1px dashed #e8e8e8;">
              <div style="padding: 8px 12px; border-right: 1px solid #eee;">${row.dept}</div>
              <div style="padding: 8px 12px; border-right: 1px solid #eee;">
                <span style="display: inline-block; padding: 2px 8px; border-radius: 10px; font-size: 12px; background: ${row.status === 'Active' ? '#e8f5e9' : '#fff3e0'}; color: ${row.status === 'Active' ? '#2e7d32' : '#e65100'};">
                  ${row.status}
                </span>
              </div>
              <div style="padding: 8px 12px; font-weight: 600; color: #1976d2;">$${row.salary.toLocaleString()}</div>
            </div>
            <div style="padding: 8px 12px; color: #666; font-size: 13px;">
              ğŸ“… ì…ì‚¬ì¼: ${row.joinDate}
            </div>
          </div>
        `;
      });
      
      grid.innerHTML = html;
      updateStatus('ë ˆì´ì•„ì›ƒ 2: 3ì¤„ ë ˆì´ì•„ì›ƒ (ì¹´ë“œ ìŠ¤íƒ€ì¼)');
    };
    
    // ë ˆì´ì•„ì›ƒ 3: ë‹¨ì¼ í–‰ (ê¸°ë³¸)
    window.showLayout3 = function() {
      const grid = document.getElementById('previewGrid');
      
      let html = `
        <div style="display: grid; grid-template-columns: 50px 100px 200px 100px 80px 100px 100px; background: #f5f5f5; border-bottom: 2px solid #e0e0e0;">
          <div style="padding: 10px; font-weight: 600; border-right: 1px solid #e0e0e0;">ID</div>
          <div style="padding: 10px; font-weight: 600; border-right: 1px solid #e0e0e0;">Name</div>
          <div style="padding: 10px; font-weight: 600; border-right: 1px solid #e0e0e0;">Email</div>
          <div style="padding: 10px; font-weight: 600; border-right: 1px solid #e0e0e0;">Dept</div>
          <div style="padding: 10px; font-weight: 600; border-right: 1px solid #e0e0e0;">Status</div>
          <div style="padding: 10px; font-weight: 600; border-right: 1px solid #e0e0e0;">Salary</div>
          <div style="padding: 10px; font-weight: 600;">Join Date</div>
        </div>
      `;
      
      sampleData.forEach((row) => {
        html += `
          <div style="display: grid; grid-template-columns: 50px 100px 200px 100px 80px 100px 100px; border-bottom: 1px solid #e0e0e0;">
            <div style="padding: 10px; border-right: 1px solid #e0e0e0;">${row.id}</div>
            <div style="padding: 10px; border-right: 1px solid #e0e0e0;">${row.name}</div>
            <div style="padding: 10px; border-right: 1px solid #e0e0e0; color: #1976d2;">${row.email}</div>
            <div style="padding: 10px; border-right: 1px solid #e0e0e0;">${row.dept}</div>
            <div style="padding: 10px; border-right: 1px solid #e0e0e0;">${row.status}</div>
            <div style="padding: 10px; border-right: 1px solid #e0e0e0;">$${row.salary.toLocaleString()}</div>
            <div style="padding: 10px;">${row.joinDate}</div>
          </div>
        `;
      });
      
      grid.innerHTML = html;
      updateStatus('ë‹¨ì¼ í–‰ ë ˆì´ì•„ì›ƒ (ê¸°ë³¸ ê·¸ë¦¬ë“œ)');
    };
    
    // ì´ˆê¸° ë ˆì´ì•„ì›ƒ
    window.showLayout1();
  </script>
</body>
</html>
